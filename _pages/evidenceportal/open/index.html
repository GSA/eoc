---
title: Open Projects
permalink: evidenceportal/
page_title: Open Projects
---

<html>
  {% include evidenceportal-includes/head.html %}
  <body>
    <nav
      id="nav-bar"
      class="sticky top-0 flex flex-wrap items-center justify-between w-full p-0 bg-navbar xl:relative xl:px-2 xl:py-6 overflow-y-visible z-10"
    >
      <div class="flex flex-wrap justify-between w-full px-0 xl:px-4">
        <div
          class="relative flex flex-no-wrap w-full xl:static xl:block xl:w-auto"
        >
          <button
            class="block p-6 ml-0 text-xl leading-none text-white outline-none cursor-pointer bg-primary xl:hidden focus:outline-none"
            type="button"
            aria-label="Open navigation menu"
          >
            <svg
              stroke="currentColor"
              fill="currentColor"
              stroke-width="0"
              viewBox="0 0 448 512"
              height="1em"
              width="1em"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"
              ></path>
            </svg>
          </button>
          <div
            class="block xl:min-h-full mx-4 my-3 xl:my-auto overflow-hidden text-nav text-black font-bold flex gap-4 items-center whitespace-nowrap"
          >
            <a href="https://www.evaluation.gov"
              ><div
                data-gatsby-image-wrapper=""
                class="gatsby-image-wrapper gatsby-image-wrapper-constrained xl:inline-block logotype"
              >
                <div style="max-width: 302px; display: block">
                  <img
                    alt=""
                    role="presentation"
                    aria-hidden="true"
                    src="{{site.baseurl}}/evidenceportal/static/597f81b11ae8beaad281d4d90441264c/9d8d9/navbar.png"
                    style="max-width: 100%; display: block; position: static"
                  />
                </div>
                <div
                  aria-hidden="true"
                  data-placeholder-image=""
                  style="
                    opacity: 0;
                    transition: opacity 500ms linear;
                    background-color: rgb(232, 232, 248);
                    position: absolute;
                    inset: 0px;
                  "
                ></div></div></a
            ><a aria-current="page" class="" href="/evidenceportal/"
              >Evidence Project Portal</a
            >
          </div>
        </div>
        <div
          class="absolute top-16 w-full md:w-2/3 xl:w-auto xl:relative xl:top-0 flex-grow items-center bg-primary xl:bg-transparent xl:flex xl:bg-navbar z-10 xl:z-0 transition-transform drop-shadow-lg filter xl:drop-shadow-none hidden"
          id="example-navbar-danger"
        >
          <ul class="flex flex-col list-none xl:flex-row xl:ml-auto">
            <li class="nav-item">
              <a
                aria-current="page"
                class=""
                href="{{site.baseurl}}/evidenceportal/"
                ><span
                  class="flex items-center p-5 leading-snug text-white hover:opacity-75 xl:text-black xl:px-3 xl:py-2"
                  ><span
                    class="text-nav ml-2 border-b-2 hover:border-primary border-transparent"
                    >Open Projects</span
                  ></span
                ></a
              >
            </li>
            <li class="nav-item">
              <a href="{{site.baseurl}}/evidenceportal/ongoing/"
                ><span
                  class="flex items-center p-5 leading-snug text-white hover:opacity-75 xl:text-black xl:px-3 xl:py-2"
                  ><span
                    class="text-nav ml-2 border-b-2 hover:border-primary border-transparent"
                    >In-Progress Projects</span
                  ></span
                ></a
              >
            </li>
            <li class="nav-item">
              <a href="{{site.baseurl}}/evidenceportal/completed/"
                ><span
                  class="flex items-center p-5 leading-snug text-white hover:opacity-75 xl:text-black xl:px-3 xl:py-2"
                  ><span
                    class="text-nav ml-2 border-b-2 hover:border-primary border-transparent"
                    >Completed Projects</span
                  ></span
                ></a
              >
            </li>
            <li class="nav-item">
              <a href="{{site.baseurl}}/evidenceportal/about/"
                ><span
                  class="flex items-center p-5 leading-snug text-white hover:opacity-75 xl:text-black xl:px-3 xl:py-2"
                  ><span
                    class="text-nav ml-2 border-b-2 hover:border-primary border-transparent"
                    >About</span
                  ></span
                ></a
              >
            </li>
            <li class="nav-item">
              <a href="{{site.baseurl}}/evidenceportal/contact/"
                ><span
                  class="flex items-center p-5 leading-snug text-white hover:opacity-75 xl:text-black xl:px-3 xl:py-2"
                  ><span
                    class="text-nav ml-2 border-b-2 hover:border-primary border-transparent"
                    >Contact</span
                  ></span
                ></a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="flex-1">
      <main>
        <header>
          <div
            class="px-4 py-4 mx-0 lg:mb-16 bg-white md:px-8 md:py-12 xl:px-16 xl:container sm:min-h-15rem"
            style="
              background: url({{site.baseurl}}/evidenceportal/static/6592d69147fa7fd1f1ae818edc04dddb/f2090/background.jpg);
              background-repeat: no-repeat;
              background-size: auto;
              background-position-y: center;
            "
          >
            <div
              class="lg:-mb-28 m-0 lg:m-4 bg-white border-b-8 border-primary border-solid flex align-center"
            >
              <div class="w-full p-4 sm:p-12 lg:pl-28 lg:w-3/3">
                <h1 class="text-h3 pb-0 sm:text-h1 font-bold text-black">
                  Open Projects
                </h1>
                <p class="pt-6 text-body leading-normal">
                  Federal agencies are committed to building the evidence needed
                  to inform decision making and improve policy and programmatic
                  functions, and are interested in engaging with external
                  researchers outside the government to address timely and
                  policy-relevant questions. Through their Learning Agendas,
                  agencies articulate priority questions and initial plans
                  toward building that evidence. However, agencies cannot do
                  this work alone.<br /><br />Learn more about the open projects
                  below. The Evidence Project Portal shares opportunities for
                  researchers to engage with federal agencies on their
                  evidence-building needs, and for researchers to express
                  interest in supporting the opportunities described. This
                  portal aims to foster the connections needed to develop,
                  launch, and enhance cross-sector relationships to advance
                  these evidence-building activities. Have questions about the
                  Portal? Visit our
                  <a
                    href="{{site.baseurl}}/about"
                    class="text-link underline hover:no-underline"
                    >About</a
                  >
                  page.
                </p>
              </div>
            </div>
          </div>
        </header>
        <div
          class="pt-4 pb-10 md:mx-8 lg:mt-6 lg:pt-8 lg:pb-20 overflow-hidden px-2 xl:px-12 bg-white"
        >
          <div
            class="flex flex-wrap items-end gap-4 mb-8 mx-3 xl:mx-6 bg-white"
          >
            <div class="flex-1 min-w-30ch">
              <label
                id="filter-select-label"
                class="font-bold p-1"
                for="filter-select"
                >Filter by
              </label>
              <div class="custom-select-container">
                <select id="dateSelect" placeholder="Select...">
                  <option value="">Select...</option>
                  <option value="Date Posted: Newest to Oldest">
                    Date Posted: Newest to Oldest
                  </option>
                  <option value="Date Posted: Oldest to Newest">
                    Date Posted: Oldest to Newest
                  </option>
                  <option value="Opportunity Closes: Newest to Oldest">
                    Opportunity Closes: Newest to Oldest
                  </option>
                  <option value="Opportunity Closes: Oldest to Newest">
                    Opportunity Closes: Oldest to Newest
                  </option>
                </select>
              </div>
            </div>
            <div class="flex-1 min-w-30ch">
              <label
                id="filter-select-label"
                class="font-bold p-1"
                for="filter-select"
                >Filter by agency</label
              >
              <div class="custom-select-container">
                <select id="agencySelect" placeholder="Select an agency...">
                  <option value="">Select an agency...</option>
                  <option value="National Institutes of Health">
                    National Institutes of Health
                  </option>
                  <option value="Department of the Treasury">
                    Department of the Treasury
                  </option>
                </select>
              </div>
            </div>
            <div class="flex-1 min-w-30ch">
              <label
                id="filter-select-label"
                class="font-bold p-1"
                for="filter-select"
                >Filter by topic</label
              >
              <div class="custom-select-container">
                <select
                  id="topicSelect"
                  multiple
                  placeholder="Select topics..."
                >
                  <option value="Impact" data-agency="National">Impact</option>
                  <option value="Metascience" data-agency="National">
                    Metascience
                  </option>
                  <option value="Evaluation" data-agency="National">
                    Evaluation
                  </option>
                  <option value="Stewardship" data-agency="National">
                    Stewardship
                  </option>

                  <option value="Housing" data-agency="Department of Treasury">
                    Housing
                  </option>
                  <option
                    value="Workforce Development"
                    data-agency="Department of Treasury"
                  >
                    Workforce Development
                  </option>
                  <option
                    value="State and Local Governments"
                    data-agency="Department of Treasury"
                  >
                    State and Local Governments
                  </option>
                </select>
              </div>
            </div>
            <div class="flex-1 min-w-30ch auto-rows-auto flex flex-col">
              <label
                id="projSearch-label"
                class="font-bold p-1"
                for="projSearch"
                >Search</label
              >
              <input
                class="rounded border-gray-300 hover:border-gray-400"
                style="height: 44px"
                type="text"
                id="projSearch"
                aria-label="Search"
                placeholder="Type to filter posts..."
                fdprocessedid="fmkxn"
                autocomplete="off"
              />
            </div>
          </div>
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 mx-3 xl:mx-6 gap-4 justify-self-center"
          >
            {% for item in site.data.open.page-data.result.data.allProject.nodes
            %}
            <article
              data-agency="{{ item.agency }}"
              data-topic='{{ item.topics | map: "slug" | jsonify }}'
              data-start-date="{{ item.startDate }}"
              data-end-date="{{ item.endDate }}"
            >
              <div
                class="px-2 py-4 overflow-hidden bg-white border border-gray-200 rounded-md shadow-sm h-full flex flex-col"
              >
                <div class="mt-4 ml-4">
                  <div class="flex w-full">
                    <span class="pt-1 text-body text-primary align-inherit"
                      ><svg
                        stroke="currentColor"
                        fill="currentColor"
                        stroke-width="0"
                        viewBox="0 0 512 512"
                        aria-hidden="true"
                        height="1em"
                        width="1em"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"
                        ></path></svg></span
                    ><span class="pl-2 uppercase">{{itsm.status}}</span>
                  </div>
                </div>
                <div class="p-5 pb-5">
                  <div class="pb-4 text-h3 font-bold leading-snug text-black">
                    {{item.question}}
                  </div>
                  <div>
                    <div class="mt-4 text-body">
                      <span class="font-bold">Opportunity Closes: </span
                      ><span>{{item.opportunityCloses}}</span>
                    </div>
                    <div class="mb-4 text-body agency">
                      <span class="font-bold">Lead Agency: </span
                      >{{item.agency}}
                    </div>
                    <div class="text-tag mt-4">
                      <figure>
                        <figcaption
                          class="font-sans text-black text-tag mb-1 font-extrabold uppercase"
                        >
                          Topics
                        </figcaption>
                        <ul class="text-tag flex flex-wrap">
                          {% for topic in item.topics %}
                          <li
                            class="px-3 py-1 mt-1 uppercase text-tag whitespace font-semibold mr-2 bg-topics"
                          >
                            {{topic.title}}
                          </li>
                          {% endfor %}
                        </ul>
                      </figure>
                    </div>
                  </div>
                </div>
                <div class="p-5 pb-1 mt-auto border-t-2 border-solid">
                  <a
                    class="btn-wide"
                    href="{{site.baseurl}}/evidenceportal/project/NIH - Measures for Impact/"
                    >View Opportunity</a
                  >
                </div>
              </div>
            </article>
            {% endfor %}
          </div>
        </div>
      </main>
    </div>
    <!-- <script
      type="text/javascript"
      src="{{site.baseurl}}/evidenceportal/multiselect.js"
    ></script>
    <script
      type="text/javascript"
      src="{{site.baseurl}}/evidenceportal/singleSelect.js"
    ></script> -->
    <script src="https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.min.js"></script>
    <!--  <script type="text/javascript">
      // Declare variables globally
      let selectedDropdown1 = "";
      let selectedMultiSelect1 = [];
      let selectedMultiSelect2 = [];

      function filterArticles() {
        let filterValue = document
          .getElementById("projSearch")
          .value.toLowerCase()
          .trim();

        selectedDropdown1 = selectedDropdown1 || "";
        selectedMultiSelect1 = selectedMultiSelect1 || [];
        selectedMultiSelect2 = selectedMultiSelect2 || [];

        console.log("Filtering with:");
        console.log("Search:", filterValue);
        console.log("Dropdown1:", selectedDropdown1);
        console.log("MultiSelect1 (Topics):", selectedMultiSelect1);
        console.log("MultiSelect2 (Agencies):", selectedMultiSelect2);

        let articles = document.querySelectorAll("article");

        articles.forEach((article) => {
          let textContent = article.textContent
            .replace(/\s+/g, " ")
            .trim()
            .toLowerCase();

          // Pull from data attributes
          let agency = (article.dataset.agency || "").toLowerCase();
          let topicsJson = article.dataset.topic || "[]";
          let topicsArray = [];

          try {
            topicsArray = JSON.parse(topicsJson).map((topic) =>
              topic.toLowerCase()
            );
          } catch (e) {
            console.error("Error parsing topics JSON:", topicsJson);
          }

          // Matching rules
          let matchSearch =
            filterValue === "" || textContent.includes(filterValue);

          let matchDropdown1 =
            !selectedDropdown1 ||
            textContent.includes(selectedDropdown1.toLowerCase());

          let matchMultiSelect1 =
            selectedMultiSelect1.length === 0 ||
            selectedMultiSelect1.some((opt) =>
              topicsArray.includes(opt.toLowerCase())
            );

          let matchMultiSelect2 =
            selectedMultiSelect2.length === 0 ||
            selectedMultiSelect2.some((opt) =>
              agency.includes(opt.toLowerCase())
            );

          if (
            matchSearch &&
            matchDropdown1 &&
            matchMultiSelect1 &&
            matchMultiSelect2
          ) {
            article.style.display = "block";
          } else {
            article.style.display = "none";
          }
        });
      }

      // Event Listeners
      document
        .getElementById("projSearch")
        .addEventListener("input", filterArticles);

      /*  document.getElementById("dropdown1").addEventListener("change", (e) => {
        console.log("Dropdown1 changed:", e.detail || e.target.value);
        selectedDropdown1 = e.detail || e.target.value || "";
        filterArticles();
      });
 */
      document.getElementById("select1").addEventListener("change", (e) => {
        console.log(
          "Multi-Select1 (Topics) changed:",
          e.detail || e.target.value
        );
        selectedMultiSelect1 =
          e.detail ||
          Array.from(e.target.selectedOptions || []).map((o) => o.value);
        filterArticles();
      });

      document.getElementById("select2").addEventListener("change", (e) => {
        console.log(
          "Multi-Select2 (Agencies) changed:",
          e.detail || e.target.value
        );
        selectedMultiSelect2 =
          e.detail ||
          Array.from(e.target.selectedOptions || []).map((o) => o.value);
        filterArticles();
      });
    </script> -->

    <script type="text/javascript">
      // Declare variables globally
      let selectedDateSort = "";
      let selectedAgency = "";
      let selectedTopics = [];

      // Main filter function
      function filterArticles() {
        let filterValue = document
          .getElementById("projSearch")
          .value.toLowerCase()
          .trim();

        selectedDateSort = selectedDateSort || "";
        selectedAgency = selectedAgency || "";
        selectedTopics = selectedTopics || [];

        console.log("Filtering with:");
        console.log("Search:", filterValue);
        console.log("Date Sort:", selectedDateSort);
        console.log("Agency:", selectedAgency);
        console.log("Topics:", selectedTopics);

        let articles = document.querySelectorAll("article");

        articles.forEach((article) => {
          let textContent = article.textContent
            .replace(/\s+/g, " ")
            .trim()
            .toLowerCase();

          let agency = (article.dataset.agency || "").toLowerCase();
          let topicsJson = article.dataset.topic || "[]";
          let topicsArray = [];

          try {
            topicsArray = JSON.parse(topicsJson).map((topic) =>
              topic.toLowerCase()
            );
          } catch (e) {
            console.error("Error parsing topics JSON:", topicsJson);
          }

          let matchSearch =
            filterValue === "" || textContent.includes(filterValue);
          let matchDateSort =
            selectedDateSort === "" ||
            textContent.includes(selectedDateSort.toLowerCase());
          let matchAgency =
            selectedAgency === "" ||
            agency.includes(selectedAgency.toLowerCase());
          let matchTopics =
            selectedTopics.length === 0 ||
            selectedTopics.some((opt) =>
              topicsArray.includes(opt.toLowerCase())
            );

          if (matchSearch && matchDateSort && matchAgency && matchTopics) {
            article.style.display = "block";
          } else {
            article.style.display = "none";
          }
        });
      }

      // Event listeners
      document
        .getElementById("projSearch")
        .addEventListener("input", filterArticles);

      document.getElementById("dateSelect").addEventListener("change", (e) => {
        selectedDateSort = e.target.value || "";
        filterArticles();
      });

      document
        .getElementById("agencySelect")
        .addEventListener("change", (e) => {
          selectedAgency = e.target.value || "";
          filterArticles();
        });

      document.getElementById("topicSelect").addEventListener("change", (e) => {
        selectedTopics = Array.from(e.target.selectedOptions || []).map(
          (o) => o.value
        );
        filterArticles();
      });
    </script>
    <script type="text/javascript">
      const topicList = [
        { value: "Impact", agency: "National" },
        { value: "Metascience", agency: "National" },
        { value: "Evaluation", agency: "National" },
        { value: "Stewardship", agency: "National" },
        { value: "Housing", agency: "Department of Treasury" },
        { value: "Workforce Development", agency: "Department of Treasury" },
        {
          value: "State and Local Governments",
          agency: "Department of Treasury",
        },
      ];

      let selectedManually = false;

      const dateSelect = new TomSelect("#dateSelect", {
        create: false,
        allowEmptyOption: true,
        onDropdownOpen: function () {
          selectedManually = true; // User is opening agency manually
        },
        onChange: function (value) {
          if (value) {
            console.log(value, "date selected");
          } else {
            console.log(value, "date not selected");
          }
          selectedManually = false;
        },
      });
      const agencySelect = new TomSelect("#agencySelect", {
        create: false,
        allowEmptyOption: true,
        onDropdownOpen: function () {
          selectedManually = true; // User is opening agency manually
        },
        onChange: function (value) {
          if (value) {
            filterTopics(value);
            if (selectedManually) {
              topicSelect.clear(); // clear selected topics if user changes agency manually
            }
            lockAgency(value);
          } else {
            resetTopics();
            unlockAgency();
            topicSelect.clear();
          }
          selectedManually = false;
        },
      });

      const topicSelect = new TomSelect("#topicSelect", {
        plugins: ["remove_button"],
        persist: false,
        create: false,
        onChange: function (values) {
          if (values.length > 0) {
            const selectedAgency = topicList.find(
              (topic) => topic.value === values[0]
            ).agency;
            if (agencySelect.getValue() !== selectedAgency) {
              agencySelect.setValue(selectedAgency);
            }
            filterTopics(selectedAgency);
            lockAgency(selectedAgency);
          } else {
            resetTopics();
            unlockAgency();
            agencySelect.clear();
          }
        },
      });

      function filterTopics(agency) {
        topicSelect.clearOptions();

        topicList.forEach((topic) => {
          if (topic.agency === agency) {
            topicSelect.addOption({ value: topic.value, text: topic.value });
          }
        });

        topicSelect.refreshOptions(false);
      }

      function resetTopics() {
        topicSelect.clearOptions();
        topicList.forEach((topic) => {
          topicSelect.addOption({ value: topic.value, text: topic.value });
        });
        topicSelect.refreshOptions(false);
      }

      function lockAgency(selectedAgency) {
        agencySelect.settings.options = [
          { value: selectedAgency, text: selectedAgency },
        ];
        agencySelect.refreshOptions(false);
      }

      function unlockAgency() {
        agencySelect.settings.options = [
          { value: "National", text: "National" },
          { value: "Department of Treasury", text: "Department of Treasury" },
        ];
        agencySelect.refreshOptions(false);
      }
    </script>
  </body>
</html>
